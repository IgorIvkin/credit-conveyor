# Кредитный конвейер

В этом проекте демонстрируется цепочка микросервисов, которые, работая вместе, изображают
кредитный конвейер. Этот конвейер принимает заявки, анализирует их и отвергает либо одобряет
их по нескольким критериям.

## Составляющие части
### 1. Бэкенд для фронтенда
#### Имя сервиса: credit-backend-for-frontend
Этот компонент представляет собой серверную часть для фронтенда веб-приложения, посредством которого
клиенты оставляют заявки на получение кредита.

Предоставляет следующие эндпойнты:

| Метод | URL | Описание | 
|---|---|---|
| POST | `/requests` | Добавляет новую заявку на получение кредита. Заявка попадает в очередь RabbitMQ. |


### 2. Фильтрующий сервис
#### Имя сервиса: request-filter-service
Этот компонент представляет собой фильтрующий сервис, который вычитывает заявки,
попадающие в RabbitMQ и применяет к ним правила фильтрации.
* Заявки, которые не удовлетворяют правилам фильтрации, попадают в Redis со статусом
`REJECTED`
* Заявки, которые удовлетворяют правилам фильтрации, отправляются в следующую
часть конвейера - в сервис `agreement-generation-service`, где по ним происходит формирование первичной документации.

Сервис имеет компонент-`@RabbitListerer`, который слушает очередь сообщений с 
заявками на получение кредита, а также связан с БД Redis, в которой сохраняются
результаты фильтрации по заявкам.

### 3. Сервис генерации первичного договора
#### Имя сервиса: agreement-generation-service
Этот компонент представляет собой компактный REST-сервис, который предназначен
для генерации PDF-документов по приходящим заявкам. Также сервис позволяет 
выкачать сгенерированные PDF-документы.

Предоставляет следующие эндпойнты:

| Метод | URL | Описание | 
|---|---|---|
| POST | `/generate` | Генерирует PDF-файл по заявке на кредит и возвращает имя PDF-файла, по которому затем его можно скачать |

Имена файлов должны подставляться в файловый путь `/agreements/<FILENAME>.pdf`, так если
сервис работает по адресу `http://localhost:8082`, то примерный файловый путь будет такой
`http://localhost:8082/agreements/<FILENAME>.pdf`.
